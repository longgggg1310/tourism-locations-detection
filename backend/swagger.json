{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"getHelloApp","parameters":[],"responses":{"200":{"description":""}}}},"/health":{"get":{"operationId":"checkHealth","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}}}}},"/storage/upload":{"post":{"operationId":"uploadUpload","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UploadDto"}}}},"responses":{"201":{"description":"FileDto","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileDto"}}}}},"tags":["Storage"]}},"/profile/verify/{id}/{token}":{"get":{"operationId":"verifyUserEmailProfile","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"token","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Profile"],"security":[{"defaultToken":[]}]}},"/profile/verify":{"post":{"operationId":"sendVerifyEmailProfile","parameters":[],"responses":{"201":{"description":""}},"tags":["Profile"],"security":[{"defaultToken":[]}]}},"/profile/my":{"get":{"operationId":"getMyUserProfile","parameters":[],"responses":{"200":{"description":"Get info my profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullUserDto"}}}}},"tags":["Profile"],"security":[{"defaultToken":[]}]}},"/user/{id}":{"patch":{"operationId":"updateOneUser","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserByAdmin"}}}},"responses":{"201":{"description":""}},"tags":["User"],"security":[{"defaultToken":[]}]}},"/product":{"get":{"operationId":"getMyTicketsProduct","parameters":[],"responses":{"200":{"description":""}},"tags":["Product"],"security":[{"defaultToken":[]}]}},"/product/search/{name}":{"get":{"operationId":"getByNameProduct","parameters":[{"name":"name","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Product"],"security":[{"defaultToken":[]}]}},"/auth/register":{"post":{"operationId":"registerAuth","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUp"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/auth/login":{"post":{"operationId":"loginAuth","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"login success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"401":{"description":"login failed"}},"tags":["Auth"]}},"/auth/forgot-password":{"post":{"operationId":"forgotPasswordAuth","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["Auth"]}},"/auth/reset-password":{"post":{"operationId":"resetPasswordAuth","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["Auth"]}}},"info":{"title":"Test API","description":"Busker API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"defaultToken":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"UploadDto":{"type":"object","properties":{"bucket":{"type":"string","enum":["test112312"],"default":"test112312"},"storage":{"type":"string","enum":["ipfs","s3fs"],"example":"ipfs"},"file":{"type":"string","format":"binary"},"widthThumbnail":{"type":"string","default":"200"},"heightThumbnail":{"type":"string","default":"200"}},"required":["bucket","storage","file"]},"FileDto":{"type":"object","properties":{"id":{"type":"number"},"cid":{"type":"string"},"cdnUrl":{"type":"string"},"storage":{"type":"string"},"originalname":{"type":"string"},"filename":{"type":"string"},"mimeType":{"type":"string"},"size":{"type":"string"},"attribute":{"type":"object"},"createdAt":{"format":"date-time","type":"string"}},"required":["id","cid","cdnUrl","storage","originalname","filename","mimeType","size","attribute","createdAt"]},"FullUserDto":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"email":{"type":"string"},"verify":{"type":"string"},"type":{"type":"string","enum":["FAN_ONLY","MUSICIAN","ADMIN"]},"role":{"type":"string","enum":["USER","ADMIN"]},"nonce":{"type":"string"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","email","verify","type","role","nonce","createdAt","updatedAt"]},"UpdateUserByAdmin":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string","default":null}}},"SignUp":{"type":"object","properties":{"name":{"type":"string","default":null},"email":{"type":"string","default":null},"password":{"type":"string"}}},"LoginDto":{"type":"object","properties":{"password":{"type":"string"},"email":{"type":"string"}},"required":["password","email"]},"AuthDto":{"type":"object","properties":{"accessToken":{"type":"string"}},"required":["accessToken"]},"ForgotPasswordDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"User":{"type":"object","properties":{}},"ResetPasswordDto":{"type":"object","properties":{"password":{"type":"string"},"token":{"type":"string"}},"required":["password","token"]}}}}